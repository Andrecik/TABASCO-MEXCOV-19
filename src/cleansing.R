install.packages("knitr")
require(knitr)

#################################################################################################################################################################################################################################################################################
## population ###################################################################################################################################################################################################################################################################
#################################################################################################################################################################################################################################################################################

population <- read.csv("~/TABASCO-MEXCOV-19/data/original/datasets_587393_1092718_population_MX.csv", 
                       header = TRUE)
# View(population)
knitr::kable(summary(population))
# which(is.na(population))

# {Estado = State, Poblacion = Population}
colnames(population) <- c("State", "Population")

# {State, Age} = as.factor
population[, 1] <- as.factor(population[, 1])

knitr::kable(summary(population))

#################################################################################################################################################################################################################################################################################
## confirmedraw #################################################################################################################################################################################################################################################################
#################################################################################################################################################################################################################################################################################

confirmedraw <- read.csv("~/TABASCO-MEXCOV-19/data/original/datasets_587393_1092718_confirmedraw.csv", 
                       header = TRUE) 
# View(confirmedraw)
knitr::kable(summary(confirmedraw))
# which(is.na(confirmedraw))

# {Estado = State, Sexo = Gender, Edad = Age, Fecha.de.Inicio.de.sintomas = Date}
colnames(confirmedraw) <- c("State", "Gender", "Age", "Date")

# {State, Age} = as.factor
confirmedraw[, 1:2] <- lapply(confirmedraw[, 1:2], factor)

# {Date} = as.Date(%d/%m/%Y)
confirmedraw$Date <- as.Date(confirmedraw$Date, "%d/%m/%Y")

knitr::kable(summary(confirmedraw))

#################################################################################################################################################################################################################################################################################
## ts_confirmed #################################################################################################################################################################################################################################################################
#################################################################################################################################################################################################################################################################################

ts_confirmed <- read.csv("~/TABASCO-MEXCOV-19/data/original/datasets_587393_1092718_time_series_confirmed_MX.csv",
                         header = TRUE)
# View(ts_confirmed)
length(ts_confirmed$State)
# which(is.na(ts_confirmed))

# {Estado = State}
colnames(ts_confirmed)[colnames(ts_confirmed) == "Estado"] <- "State"

# {ts_confirmed[, -1]} = as.Date(%d/%m/%Y)
colnames(ts_confirmed)[-1] <- sub("X*", "", colnames(ts_confirmed)[-1])
colnames(ts_confirmed)[-1] <- gsub("[.]", "/", colnames(ts_confirmed)[-1])
names(ts_confirmed)[-1] <- as.character(as.Date(colnames(ts_confirmed)[-1], "%m/%d/%Y"))

ts_confirmed

#################################################################################################################################################################################################################################################################################
## ts_deaths ####################################################################################################################################################################################################################################################################
#################################################################################################################################################################################################################################################################################

ts_deaths <- read.csv("~/TABASCO-MEXCOV-19/data/original/datasets_587393_1092718_time_series_deaths_MX.csv",
                      header = TRUE)
# View(ts_deaths)
length(ts_deaths$State)
# which(is.na(ts_deaths))

# {Estado = State}
colnames(ts_deaths)[colnames(ts_deaths) == "Estado"] <- "State"

# {ts_deaths[, -1]} = as.Date(%d/%m/%Y)
colnames(ts_deaths)[-1] <- sub("X*", "", colnames(ts_deaths)[-1])
colnames(ts_deaths)[-1] <- gsub("[.]", "/", colnames(ts_deaths)[-1])
names(ts_deaths)[-1] <- as.character(as.Date(colnames(ts_deaths)[-1], "%m/%d/%Y"))

ts_deaths




source("~/TABASCO-MEXCOV-19/src/cleansing/confirmedraw.R")
